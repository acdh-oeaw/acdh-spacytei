  {
   "definitions": {},
   "$schema": "http://json-schema.org/draft-07/schema#",
   "$id": "http://acdh.oeaw.ac.at/vocabs/acdh-lang.json",
   "type": "object",
   "title": "The ACDH language json format",
   "description": "json format used for internal communication of ACDH language services",
   "required": [
     "tokenArray",
     "language"
   ],
   "additionalProperties": false,
   "properties": {
     "tokenArray": {
       "$id": "#/properties/tokenArray",
       "type": "array",
       "title": "The Tokenarray Schema",
       "items": {
         "$id": "#/properties/tokenArray/items",
         "type": "object",
         "title": "The Items Schema",
         "required": [
           "tokenId",
           "value",
           "whitespace"
         ],
         "properties": {
           "tokenId": {
             "$id": "#/properties/tokenArray/items/properties/tokenId",
             "type": "integer",
             "title": "tokenID",
             "description": "unique ID of the token. normally this is generated by the tokenizer",
             "default": 0,
             "examples": [
               1
             ]
           },
           "value": {
             "$id": "#/properties/tokenArray/items/properties/value",
             "type": "string",
             "title": "Token",
             "description": "string of the token",
             "default": "",
             "examples": [
               "Wir"
             ],
             "pattern": "^(.*)$"
           },
           "whitespace": {
             "$id": "#/properties/tokenArray/items/properties/whitespace",
             "type": "boolean",
             "title": "whitespace",
             "description": "whether the token is followed by whitespace or not",
             "default": true,
             "examples": [
               false,
               true
             ]
           }
         }
       }
     },
     "language": {
       "$id": "#/properties/language",
       "type": "string",
       "title": "language",
       "description": "language of the text. this setting is used by the pipeline for processing tasks.",
       "default": "",
       "examples": [
         "deutsch",
         "english",
         "en",
         "de"
       ],
       "pattern": "^(.*)$"
     },
     "pipeline": {
       "$id": "#/properties/pipeline",
       "type": "array",
       "title": "Pipeline",
       "description": "list of pipline processes to run one after the other",
       "default": null,
       "uniqueItems": true,
       "items": {
         "$id": "#/properties/pipeline/items",
         "type": "array",
         "title": "single pipline item",
         "description": "name of the process, followed by a settings dictionary. settings dictionary varies from process to process",
         "default": null,
         "maxItems": 2,
         "minItems": 2,
         "uniqueItems": true,
         "items": [{
           "$id": "#/properties/pipeline/items/items/1",
           "type": "string",
           "title": "pipeline properties",
           "description": "properties of the pipline. first position is the process name, second a settings dictionary.",
           "default": "",
           "examples": [
             "acdh-tokenizer"
           ],
           "pattern": "^(.*)$"
         },
	 { 
           "$id": "#/properties/pipeline/items/items/2",
           "type": "object",
           "title": "pipeline properties, process settings",
           "description": "object containing settings for the process. the settings are entirely defined by the process and the corresponding API. see schema definitions for the corresponding APIs",
           "examples": [
		   {"model": "nlp"}
           ]
	 }
	 ]
       }
     }
   }
}



